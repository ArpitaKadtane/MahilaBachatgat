<app-header></app-header>
<div class="loan-management-container">
  <h2 class="heading">ЁЯУС рдЖрд▓реЗрд▓реЗ рдХрд░реНрдЬ рдЕрд░реНрдЬ</h2>

  <div *ngIf="loading" class="loading">рд▓реЛрдб рд╣реЛрдд рдЖрд╣реЗ...</div>
  <div *ngIf="error" class="error">{{ error }}</div>

  <div *ngIf="!loading && loanApplications.length === 0" class="no-data">
    рдХреЛрдгрддреЗрд╣реА рдЕрд░реНрдЬ рд╕рд╛рдкрдбрд▓реЗ рдирд╛рд╣реАрдд.
  </div>

  <div class="loan-card" *ngFor="let loan of loanApplications">
    <h3>{{ loan.full_name }}</h3>
    <p>ЁЯУЮ рдореЛрдмрд╛рдИрд▓: {{ loan.mobile }}</p>
    <p>ЁЯТ░ рдЙрддреНрдкрдиреНрди: тВ╣{{ loan.income }}</p>
    <p>ЁЯПж рдХрд░реНрдЬ рд░рдХреНрдХрдо: тВ╣{{ loan.loan_amount }}</p>
    <p>ЁЯУИ рдЙрджреНрджреЗрд╢: {{ loan.loan_purpose }}</p>
    <p>ЁЯУЕ рдХрд╛рд▓рд╛рд╡рдзреА: {{ loan.loan_tenure }} рдорд╣рд┐рдиреЗ</p>
    <p>ЁЯУС рдкрд░рддрдлреЗрдб рдпреЛрдЬрдирд╛: {{ loan.repayment_plan }}</p>
    <p>ЁЯПб рдкрддреНрддрд╛: {{ loan.address }}</p>

    <!-- тЬЕ Newly added fields -->
    <p>ЁЯПж рдЦрд╛рддреЗ рдХреНрд░рдорд╛рдВрдХ: {{ loan.account_number }}</p>
    <p>ЁЯПж рдмрдБрдХреЗрдЪреЗ рдирд╛рд╡: {{ loan.bank_name }}</p>
    <p>ЁЯПж IFSC рдХреЛрдб: {{ loan.ifsc_code }}</p>

    <!-- тЬЕ Loan actions -->
    <div class="loan-actions">
      <label>
        рдкреНрд░рддреНрдпрдХреНрд╖ рдорд┐рд│рд╛рд▓реЗрд▓реА рд░рдХреНрдХрдо:
        <input type="number" [(ngModel)]="loan.actual_amount_received" min="0" />
      </label>

      <button (click)="acceptLoan(loan.id, loan.actual_amount_received)">рдордВрдЬреВрд░</button>
      <button (click)="rejectLoan(loan.id)">рдирдХрд╛рд░</button>
    </div>
  </div>
</div>
<app-footer></app-footer>
