<app-header (toggleSidebarEvent)="toggleSidebar()"></app-header>

<div class="dashboard-container">
  <div
    class="sidebar"
    [class.active]="sidebarOpen"
    (click)="$event.stopPropagation()"
  >
    <div class="sidebar-header">
      <button class="close-sidebar" (click)="closeSidebar()">тЬХ</button>
    </div>

    <ul class="nav-menu">
      <li class="nav-item">
        <a (click)="navigateToGroupManagement()">
          <img src="assets/people.png" /> рдЧрдЯ рд╡реНрдпрд╡рд╕реНрдерд╛рдкрди
        </a>
      </li>
      <li class="nav-item">
        <a (click)="navigateToUserManagement()"><img src="assets/user.png" /> рд╕рджрд╕реНрдп рд╡реНрдпрд╡рд╕реНрдерд╛рдкрди</a>
      </li>
      <li class="nav-item">
        <a href="#"><img src="assets/save-money.png" /> рдмрдЪрдд рд╡реНрдпрд╡рд╕реНрдерд╛рдкрди</a>
      </li>
      <li class="nav-item">
        <a (click)="navigateToLoanManagement()"><img src="assets/signing.png" /> рдХрд░реНрдЬ рд╡реНрдпрд╡рд╕реНрдерд╛рдкрди</a>
      </li>
      <li class="nav-item">
        <a href="#"><img src="assets/report.png" /> рдЖрд░реНрдерд┐рдХ рдЕрд╣рд╡рд╛рд▓</a>
      </li>
      <li class="nav-item">
        <a href="#"><img src="assets/meeting.png" /> рдмреИрдардХреА рд╡ рд╕реБрдЪрдирд╛</a>
      </li>
      <!-- <li class="nav-item">
        <a href="#"><img src="assets/support.png" /> рддрдХреНрд░рд╛рд░рдирд┐рд╡рд╛рд░рдг рдЖрдгрд┐ рд╕рд╣рд╛рдпреНрдп</a>
      </li> -->
      <li class="nav-item">
        <a (click)="navigateToprofile()"
          ><img src="assets/edit.png" alt="Profile Icon" /> рдкреНрд░реЛрдлрд╛рдЗрд▓ рдЖрдгрд┐
          рдорд╛рд╣рд┐рддреА</a
        >
      </li>
      <li class="nav-item">
        <a (click)="navigateToChangePassword()">
          <img src="assets/padlock.png" alt="Change Password Icon" />
          рдкрд╛рд╕рд╡рд░реНрдб рдмрджрд▓рд╛
        </a>
      </li>
    </ul>
  </div>
  <div class="welcome-section">
    <h1>рд╕реНрд╡рд╛рдЧрдд, {{ leaderName }} <span class="wave-emoji">ЁЯСЛ</span></h1>
    <p>рдЖрдкрдг рдмрдЪрдд рдЧрдЯ рдкреНрд░рдореБрдЦ рдореНрд╣рдгреВрди рд▓реЙрдЧ рдЗрди рдЖрд╣рд╛рдд.</p>
  </div>

  <div *ngIf="isLoading" class="loading">
    <p>рдорд╛рд╣рд┐рддреА рд▓реЛрдб рд╣реЛрдд рдЖрд╣реЗ...</p>
  </div>

  <div *ngIf="!isLoading" class="dashboard-content">
    <!-- Personal Card -->
    <div class="card personal-card">
      <div class="card-header">
        <h2>рд╡реИрдпрдХреНрддрд┐рдХ рдорд╛рд╣рд┐рддреА</h2>
      </div>
      <div class="card-body">
        <div class="info-row">
          <span class="label">рдирд╛рд╡:</span>
          <span class="value">{{ leaderDetails.full_name }}</span>
        </div>
        <div class="info-row">
          <span class="label">рдореЛрдмрд╛рдИрд▓:</span>
          <span class="value">{{ leaderDetails.contact }}</span>
        </div>
        <div class="info-row">
          <span class="label">рдИрдореЗрд▓:</span>
          <span class="value">{{ leaderDetails.email || "рдЙрдкрд▓рдмреНрдз рдирд╛рд╣реА" }}</span>
        </div>
        <div class="info-row">
          <span class="label">рдмрдБрдХ:</span>
          <span class="value">{{
            leaderDetails.bank_name || "рдЙрдкрд▓рдмреНрдз рдирд╛рд╣реА"
          }}</span>
        </div>
        <a (click)="navigateToprofile()"
          ><button class="edit-btn">рдорд╛рд╣рд┐рддреА рд╕рдВрдкрд╛рджрд┐рдд рдХрд░рд╛</button></a
        >
      </div>
    </div>
    <!-- Statistics Cards -->
    <div class="statistics-container">
      <div class="stat-card">
        <div class="stat-icon members-icon">ЁЯСе</div>
        <div class="stat-details">
          <span class="stat-value">{{ memberCount }}</span>
          <span class="stat-label">рдПрдХреВрдг рд╕рджрд╕реНрдп</span>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon savings-icon">ЁЯТ░</div>
        <div class="stat-details">
          <span class="stat-value">тВ╣{{ totalSavings }}</span>
          <span class="stat-label">рдПрдХреВрдг рдмрдЪрдд</span>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon loans-icon">ЁЯУЭ</div>
        <div class="stat-details">
          <span class="stat-value">тВ╣{{ totalLoans }}</span>
          <span class="stat-label">рдПрдХреВрдг рдХрд░реНрдЬ</span>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon pending-icon">тП│</div>
        <div class="stat-details">
          <span class="stat-value">{{ loansPending }}</span>
          <span class="stat-label">рдкреНрд░рд▓рдВрдмрд┐рдд рдХрд░реНрдЬ рд╡рд┐рдирдВрддреА</span>
        </div>
      </div>
    </div>

    <!-- Quick Actions -->
    <div class="actions-container">
      <h2>рддреНрд╡рд░рд┐рдд рдХреНрд░рд┐рдпрд╛</h2>
      <div class="action-buttons">
        <button class="action-btn">
          <span class="action-icon">ЁЯСд</span>
          <span class="action-text">рдирд╡реАрди рд╕рджрд╕реНрдп рдЬреЛрдбрд╛</span>
        </button>
        <button class="action-btn">
          <span class="action-icon">ЁЯТ╕</span>
          <span class="action-text">рдирд╡реАрди рдХрд░реНрдЬ рдиреЛрдВрджрд╡рд╛</span>
        </button>
        <button class="action-btn">
          <span class="action-icon">ЁЯТ╣</span>
          <span class="action-text">рдмрдЪрдд рдиреЛрдВрджрд╡рд╛</span>
        </button>
        <button class="action-btn">
          <span class="action-icon">ЁЯУК</span>
          <span class="action-text">рдЕрд╣рд╡рд╛рд▓ рддрдпрд╛рд░ рдХрд░рд╛</span>
        </button>
      </div>
    </div>

    <!-- Upcoming Meetings -->
    <div class="meetings-container">
      <h2>рдЖрдЧрд╛рдореА рдмреИрдардХрд╛</h2>
      <div class="meeting-card">
        <div class="meeting-date">15-04-2025</div>
        <div class="meeting-details">
          <div class="meeting-title">рдорд╛рд╕рд┐рдХ рдмрдЪрдд рдЧрдЯ рдмреИрдардХ</div>
          <div class="meeting-time">рд╕рдХрд╛рд│реА 10:00 - 11:30</div>
          <div class="meeting-location">рдЧрд╛рд╡рд╛рддреАрд▓ рд╕рд╛рдореБрджрд╛рдпрд┐рдХ рд╣реЙрд▓</div>
        </div>
      </div>
      <button class="add-meeting-btn">рдирд╡реАрди рдмреИрдардХ рдЬреЛрдбрд╛</button>
    </div>
  </div>
</div>

<app-footer></app-footer>
